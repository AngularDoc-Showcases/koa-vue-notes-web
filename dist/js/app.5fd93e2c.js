(function(e){function t(t){for(var s,i,o=t[0],c=t[1],u=t[2],m=0,d=[];m<o.length;m++)i=o[m],a[i]&&d.push(a[i][0]),a[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);l&&l(t);while(d.length)d.shift()();return n.push.apply(n,u||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],s=!0,o=1;o<r.length;o++){var c=r[o];0!==a[c]&&(s=!1)}s&&(n.splice(t--,1),e=i(i.s=r[0]))}return e}var s={},a={1:0},n=[];function i(t){if(s[t])return s[t].exports;var r=s[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=s,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(r,s,function(t){return e[t]}.bind(null,s));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;n.push([22,0]),r()})({"1R2C":function(e,t,r){},22:function(e,t,r){e.exports=r("Vtdi")},"2uwM":function(e,t,r){},"3H1+":function(e,t,r){"use strict";var s=r("2uwM"),a=r.n(s);a.a},"3Vu5":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"footer-main"},[r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[r("p",[r("a",{attrs:{href:"https://github.com/johndatserakis"}},[e._v("Koa-Vue-Notes")]),e._v(" is a SPA using Koa (2.3) as the "),r("a",{attrs:{href:"https://github.com/johndatserakis/koa-vue-notes-api"}},[e._v("backend")]),e._v(" and Vue (2.5.16) as the "),r("a",{attrs:{href:"https://github.com/johndatserakis/koa-vue-notes-api"}},[e._v("frontend")]),e._v(".")])])])])])}],n={name:"footer-main",data:function(){return{}},methods:{},computed:{}},i=n,o=(r("Pq/l"),r("KHd+")),c=Object(o["a"])(i,s,a,!1,null,"2b326aea",null);t["default"]=c.exports},"7Odf":function(e,t,r){},"8Bpr":function(e,t,r){},"8Bqc":function(e,t,r){"use strict";var s=r("7Odf"),a=r.n(s);a.a},BmJF:function(e,t,r){},EDI0:function(e,t,r){},KLHe:function(e,t,r){},NEaa:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"navbar-section"},[r("div",{staticClass:"container-fluid"},[r("nav",{staticClass:"navbar navbar-expand-lg navbar-dark"},[r("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"home"},exact:"","data-target":".show","data-toggle":"collapse"}},[r("i",{staticClass:"fa fa-sticky-note fa-fw"}),e._v(" Koa-Vue-Notes")]),e._m(0),r("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[r("ul",{staticClass:"navbar-nav mr-auto"},[e.user?e._e():r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:{name:"signup"},"data-target":".show","data-toggle":"collapse"}},[e._v("Signup")])],1),e.user?e._e():r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:{name:"login"},"data-target":".show","data-toggle":"collapse"}},[e._v("Login")])],1),e.user?e._e():r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:{name:"forgot"},"data-target":".show","data-toggle":"collapse"}},[e._v("Forgot")])],1),e.user?r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:{name:"account"},"data-target":".show","data-toggle":"collapse"}},[e._v("Account")])],1):e._e(),e.user?r("li",{staticClass:"nav-item"},[e.user?r("a",{staticClass:"nav-link",attrs:{href:"javascript:void(0)"},on:{click:function(t){e.logout()}}},[e._v("Logout")]):e._e()]):e._e()]),e._m(1)])],1)])])},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[r("span",{staticClass:"navbar-toggler-icon"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",{staticClass:"navbar-nav ml-auto"},[r("li",{staticClass:"nav-item"},[r("a",{staticClass:"btn btn-white my-2 my-lg-0 mr-sm-2",attrs:{href:"https://johndatserakis.github.io/koa-react-notes-web/",target:"_blank"}},[r("i",{staticClass:"fa fa-github fa-fw"}),e._v(" Visit the React Version!")])]),r("li",{staticClass:"nav-item"},[r("a",{staticClass:"btn btn-white my-2 my-lg-0 mr-sm-2",attrs:{href:"https://github.com/johndatserakis/koa-vue-notes-web",target:"_blank"}},[r("i",{staticClass:"fa fa-github fa-fw"}),e._v(" Web Code on GitHub")])]),r("li",{staticClass:"nav-item"},[r("a",{staticClass:"btn btn-white my-2 my-lg-0 mr-sm-2",attrs:{href:"https://github.com/johndatserakis/koa-vue-notes-api",target:"_blank"}},[r("i",{staticClass:"fa fa-github fa-fw"}),e._v(" API Code on GitHub")])]),r("li",{staticClass:"nav-item"},[r("a",{staticClass:"btn btn-white my-2 my-lg-0 mr-sm-2",attrs:{href:"https://github.com/johndatserakis/",target:"_blank"}},[r("i",{staticClass:"fa fa-info-circle fa-fw"})])])])}],n=r("yT7P"),i=(r("ls82"),r("MECJ")),o=(r("VRzm"),r("L2JU")),c={name:"navbar",data:function(){return{}},methods:{logout:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("user/userLogout");case 2:return e.next=4,this.$store.dispatch("note/userLogout");case 4:this.$router.push({name:"home"}),document.location.href="/";case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},computed:Object(n["a"])({},Object(o["b"])({user:function(e){return e.user.user}}))},u=c,l=(r("SKse"),r("KHd+")),m=Object(l["a"])(u,s,a,!1,null,"2aab1c4d",null);t["default"]=m.exports},NtGD:function(e,t,r){"use strict";var s=r("BmJF"),a=r.n(s);a.a},"Pq/l":function(e,t,r){"use strict";var s=r("8Bpr"),a=r.n(s);a.a},"Q/fh":function(e,t,r){"use strict";var s=r("pLfx"),a=r.n(s);a.a},"QmN/":function(e,t,r){},SKse:function(e,t,r){"use strict";var s=r("QmN/"),a=r.n(s);a.a},Uo0Y:function(e,t,r){"use strict";var s=r("KLHe"),a=r.n(s);a.a},Vtdi:function(e,t,r){"use strict";r.r(t);r("VRzm"),r("VLrD");var s=r("Kw5r"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("vue-progress-bar"),r("navbar"),r("keep-alive",{attrs:{include:"account"}},[r("router-view")],1),r("div",{staticClass:"sticky-footer-spacing"}),r("footer-main")],1)},n=[],i={name:"app"},o=i,c=(r("ZL7j"),r("KHd+")),u=Object(c["a"])(o,a,n,!1,null,null,null),l=u.exports,m=r("jE9Z"),d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"main-content"},[r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-12"},[r("h1",[e._v("Home")]),r("p",[e._v("Here will be a check to see if you are currently logged in and your user info.")]),e.user?r("p",[r("i",{staticClass:"fa fa-user fa-fw"}),e._v("  You: "+e._s(e.user))]):r("p",[e._v("Hmm, you are not logged in.")]),e._m(0),e._m(1),r("hr"),e._m(2),e._m(3)])])])])},p=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[r("i",{staticClass:"fa fa-info-circle fa-fw"}),e._v(" This is a simple SPA built using Koa (2.5.1) as the backend and Vue (2.5.16) as the frontend. If you don't want to create an account you can just use "),r("strong",[e._v("demousername")]),e._v(" and "),r("strong",[e._v("demopassword")]),e._v(" to login to the app.")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[e._v("This site has a sister! Visit it here - "),r("a",{attrs:{href:"https://johndatserakis.github.io/koa-react-notes-web/"}},[e._v("https://johndatserakis.github.io/koa-react-notes-web/")]),e._v(". It's the exact same app - but written in React!")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[r("a",{attrs:{href:"https://github.com/johndatserakis/koa-vue-notes-web",target:"_blank"}},[r("img",{attrs:{src:"https://img.shields.io/badge/frontend--social.svg?style=social",alt:""}})]),r("a",{attrs:{href:"https://twitter.com/intent/tweet?text=Check+out+this+project+on+GitHub:+https://github.com/johndatserakis/koa-vue-notes-web&url=%5Bobject%20Object%5D",target:"_blank"}},[r("img",{attrs:{src:"https://img.shields.io/twitter/url/https/github.com/johndatserakis/koa-vue-notes-web.svg?style=social",alt:""}})]),r("a",{attrs:{href:"https://raw.githubusercontent.com/johndatserakis/koa-vue-notes-web/master/LICENSE",target:"_blank"}},[r("img",{attrs:{src:"https://img.shields.io/badge/license-MIT-blue.svg",alt:""}})]),r("a",{attrs:{href:"https://github.com/johndatserakis/koa-vue-notes-web/stargazers",target:"_blank"}},[r("img",{attrs:{src:"https://img.shields.io/github/stars/johndatserakis/koa-vue-notes-web.svg",alt:""}})]),r("a",{attrs:{href:"https://github.com/johndatserakis/koa-vue-notes-web/network",target:"_blank"}},[r("img",{attrs:{src:"https://img.shields.io/github/forks/johndatserakis/koa-vue-notes-web.svg",alt:""}})])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[r("a",{attrs:{href:"https://github.com/johndatserakis/koa-vue-notes-api",target:"_blank"}},[r("img",{attrs:{src:"https://img.shields.io/badge/Backend--social.svg?style=social",alt:""}})]),r("a",{attrs:{href:"https://twitter.com/intent/tweet?text=Check+out+this+project+on+GitHub:+https://github.com/johndatserakis/koa-vue-notes-api&url=%5Bobject%20Object%5D",target:"_blank"}},[r("img",{attrs:{src:"https://img.shields.io/twitter/url/https/github.com/johndatserakis/koa-vue-notes-api.svg?style=social",alt:""}})]),r("a",{attrs:{href:"https://raw.githubusercontent.com/johndatserakis/koa-vue-notes-api/master/LICENSE",target:"_blank"}},[r("img",{attrs:{src:"https://img.shields.io/badge/license-MIT-blue.svg",alt:""}})]),r("a",{attrs:{href:"https://github.com/johndatserakis/koa-vue-notes-api/stargazers",target:"_blank"}},[r("img",{attrs:{src:"https://img.shields.io/github/stars/johndatserakis/koa-vue-notes-api.svg",alt:""}})]),r("a",{attrs:{href:"https://github.com/johndatserakis/koa-vue-notes-api/network",target:"_blank"}},[r("img",{attrs:{src:"https://img.shields.io/github/forks/johndatserakis/koa-vue-notes-api.svg",alt:""}})])])}],f=r("yT7P"),v=r("L2JU"),h={name:"home",computed:Object(f["a"])({},Object(v["b"])({user:function(e){return e.user.user}})),mounted:function(){}},g=h,b=(r("8Bqc"),Object(c["a"])(g,d,p,!1,null,"e11cc73c",null)),w=b.exports,_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"user-action"},[r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-12"},[r("div",{staticClass:"user-block"},[r("h1",{staticClass:"user-block__header"},[e._v("Login")]),r("div",{staticClass:"user-block__content"},[r("form",{attrs:{autocomplete:"off"},on:{submit:function(e){e.preventDefault()}}},[r("div",{staticClass:"form-group",class:{"form-group--error":e.$v.credentials.username.$error,"form-group--success":!e.$v.credentials.username.$invalid&&e.$v.credentials.username.$dirty}},[r("label",[e._v("Username")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.credentials.username,expression:"credentials.username",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",name:"signup-form-username","aria-describedby":"Username"},domProps:{value:e.credentials.username},on:{input:[function(t){t.target.composing||e.$set(e.credentials,"username",t.target.value.trim())},function(t){e.$v.credentials.username.$touch()}],blur:function(t){e.$forceUpdate()}}}),e.$v.credentials.username.$error?r("div",{staticClass:"form-group__message"},[e._v("Please enter your username.")]):e._e()]),r("div",{staticClass:"form-group",class:{"form-group--error":e.$v.credentials.password.$error,"form-group--success":!e.$v.credentials.password.$invalid&&e.$v.credentials.password.$dirty}},[r("label",[e._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.credentials.password,expression:"credentials.password",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"password",name:"signup-form-password","aria-describedby":"Password"},domProps:{value:e.credentials.password},on:{input:[function(t){t.target.composing||e.$set(e.credentials,"password",t.target.value.trim())},function(t){e.$v.credentials.password.$touch()}],blur:function(t){e.$forceUpdate()}}}),e.$v.credentials.password.$error?r("div",{staticClass:"form-group__message"},[e._v("Please enter your password.")]):e._e()]),r("button",{staticClass:"btn btn-green btn-lg mt-4 btn-block",attrs:{id:"login-submit-button"},on:{click:function(t){e.submit()}}},[e.pending?r("span",[r("i",{staticClass:"fa fa-circle-o-notch fa-spin fa-fw"})]):r("span",[e._v("Login "),r("i",{staticClass:"fa fa-long-arrow-right"})])]),r("div",{staticClass:"mt-4 small"},[r("p",[e._v("Not signed up yet? "),r("router-link",{attrs:{to:{name:"signup"}}},[e._v("Signup here.")])],1),r("p",[r("router-link",{attrs:{to:{name:"forgot"}}},[e._v("Forgot your password?")])],1)])])])])])])])])},k=[],$=(r("ls82"),r("MECJ")),C=r("ta7f"),y={name:"login",data:function(){return{credentials:{username:"",password:""},pending:!1}},methods:{submit:function(){var e=Object($["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.$v.$invalid){e.next=3;break}return this.$v.$touch(),e.abrupt("return");case 3:return this.pending=!0,t={username:this.credentials.username,password:this.credentials.password},e.prev=5,e.next=8,this.$store.dispatch("user/userLogin",t);case 8:this.credentials.username="",this.credentials.password="",this.$v.$reset(),this.$router.push({name:"account"}),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](5),this.$toasted.error("Hmm, those details don't seem right.");case 17:return e.prev=17,this.pending=!1,e.finish(17);case 20:case"end":return e.stop()}},e,this,[[5,14,17,20]])}));return function(){return e.apply(this,arguments)}}()},validations:{credentials:{username:{required:C["required"]},password:{required:C["required"]}}}},N=y,x=(r("NtGD"),Object(c["a"])(N,_,k,!1,null,"33025e66",null)),T=x.exports,j=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"user-action"},[r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-12"},[r("div",{staticClass:"user-block"},[r("h1",{staticClass:"user-block__header"},[e._v("Signup")]),r("div",{staticClass:"user-block__content"},[r("form",{attrs:{autocomplete:"off"},on:{submit:function(e){e.preventDefault()}}},[r("div",{staticClass:"form-group",class:{"form-group--error":e.$v.credentials.firstName.$error,"form-group--success":!e.$v.credentials.firstName.$invalid&&e.$v.credentials.firstName.$dirty}},[r("label",[e._v("First Name")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.credentials.firstName,expression:"credentials.firstName",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{autofocus:"",autocomplete:"",type:"text",name:"signup-form-firstName","aria-describedby":"First Name"},domProps:{value:e.credentials.firstName},on:{input:[function(t){t.target.composing||e.$set(e.credentials,"firstName",t.target.value.trim())},function(t){e.$v.credentials.firstName.$touch()}],blur:function(t){e.$forceUpdate()}}}),e.$v.credentials.firstName.$error?r("div",{staticClass:"form-group__message"},[e._v("Please enter your first name.")]):e._e()]),r("div",{staticClass:"form-group",class:{"form-group--error":e.$v.credentials.lastName.$error,"form-group--success":!e.$v.credentials.lastName.$invalid&&e.$v.credentials.lastName.$dirty}},[r("label",[e._v("Last Name")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.credentials.lastName,expression:"credentials.lastName",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",name:"signup-form-lastName","aria-describedby":"Last Name"},domProps:{value:e.credentials.lastName},on:{input:[function(t){t.target.composing||e.$set(e.credentials,"lastName",t.target.value.trim())},function(t){e.$v.credentials.lastName.$touch()}],blur:function(t){e.$forceUpdate()}}}),e.$v.credentials.lastName.$error?r("div",{staticClass:"form-group__message"},[e._v("Please enter your last name.")]):e._e()]),r("div",{staticClass:"form-group",class:{"form-group--error":e.$v.credentials.username.$error,"form-group--success":!e.$v.credentials.username.$invalid&&e.$v.credentials.username.$dirty}},[r("label",[e._v("Username")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.credentials.username,expression:"credentials.username",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",name:"signup-form-username","aria-describedby":"Username"},domProps:{value:e.credentials.username},on:{input:[function(t){t.target.composing||e.$set(e.credentials,"username",t.target.value.trim())},function(t){e.$v.credentials.username.$touch()}],blur:function(t){e.$forceUpdate()}}}),!e.$v.credentials.username.$minLength&&e.$v.credentials.username.$error?r("div",{staticClass:"form-group__message"},[e._v("Username must be at least 3 characters.")]):e._e(),e.$v.credentials.username.$error?r("div",{staticClass:"form-group__message"},[e._v("Please enter your username.")]):e._e()]),r("div",{staticClass:"form-group",class:{"form-group--error":e.$v.credentials.email.$error,"form-group--success":!e.$v.credentials.email.$invalid&&e.$v.credentials.email.$dirty}},[r("label",[e._v("Email")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.credentials.email,expression:"credentials.email",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",name:"signup-form-email","aria-describedby":"Email"},domProps:{value:e.credentials.email},on:{input:[function(t){t.target.composing||e.$set(e.credentials,"email",t.target.value.trim())},function(t){e.$v.credentials.email.$touch()}],blur:function(t){e.$forceUpdate()}}}),e.$v.credentials.email.$error?r("div",{staticClass:"form-group__message"},[e._v("Please enter a valid email address.")]):e._e()]),r("div",{staticClass:"form-group",class:{"form-group--error":e.$v.credentials.password.$error,"form-group--success":!e.$v.credentials.password.$invalid&&e.$v.credentials.password.$dirty}},[r("label",[e._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.credentials.password,expression:"credentials.password",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"password",name:"signup-form-password","aria-describedby":"Password"},domProps:{value:e.credentials.password},on:{input:[function(t){t.target.composing||e.$set(e.credentials,"password",t.target.value.trim())},function(t){e.$v.credentials.password.$touch()}],blur:function(t){e.$forceUpdate()}}}),!e.$v.credentials.password.$minLength&&e.$v.credentials.password.$error?r("div",{staticClass:"form-group__message"},[e._v("Passwords must be at least 8 characters.")]):e._e(),e.$v.credentials.password.$error?r("div",{staticClass:"form-group__message"},[e._v("Please enter a valid password.")]):e._e()]),r("div",{staticClass:"form-group",class:{"form-group--error":e.$v.credentials.passwordConfirm.$error,"form-group--success":!e.$v.credentials.passwordConfirm.$invalid&&e.$v.credentials.passwordConfirm.$dirty}},[r("label",[e._v("Confirm Password")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.credentials.passwordConfirm,expression:"credentials.passwordConfirm",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"password",name:"signup-form-passwordConfirm","aria-describedby":"Confirm Password"},domProps:{value:e.credentials.passwordConfirm},on:{input:[function(t){t.target.composing||e.$set(e.credentials,"passwordConfirm",t.target.value.trim())},function(t){e.$v.credentials.passwordConfirm.$touch()}],blur:function(t){e.$forceUpdate()}}}),e.$v.credentials.passwordConfirm.$error?r("div",{staticClass:"form-group__message"},[e._v("Entry doesn't match.")]):e._e()]),r("button",{staticClass:"btn btn-green btn-lg mt-4 btn-block",attrs:{id:"signup-submit-button"},on:{click:function(t){e.submit()}}},[e.pending?r("span",[r("i",{staticClass:"fa fa-circle-o-notch fa-spin fa-fw"})]):r("span",[e._v("Signup")])]),r("div",{staticClass:"mt-4 small"},[r("p",[e._v("Already have an account? "),r("router-link",{attrs:{to:{name:"login"}}},[e._v("Login here.")])],1),r("p",[r("router-link",{attrs:{to:{name:"forgot"}}},[e._v("Forgot your password?")])],1)])])])])])])])])},E=[],O={name:"signup",data:function(){return{credentials:{firstName:"",lastName:"",username:"",email:"",password:"",passwordConfirm:""},pending:!1}},methods:{submit:function(){var e=Object($["a"])(regeneratorRuntime.mark(function e(){var t,r,s,a,n,i,o,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.$v.$invalid){e.next=3;break}return this.$v.$touch(),e.abrupt("return");case 3:return this.pending=!0,t=this.credentials,r=t.firstName,s=t.lastName,a=t.username,n=t.email,i=t.password,o=t.passwordConfirm,c={firstName:r,lastName:s,username:a,email:n,password:i,passwordConfirm:o},e.prev=6,e.next=9,this.$store.dispatch("user/userSignup",c);case 9:this.$toasted.success("Successfully signed up. Please login."),this.credentials.firstName="",this.credentials.lastName="",this.credentials.username="",this.credentials.email="",this.credentials.password="",this.credentials.passwordConfirm="",this.$v.$reset(),this.$router.push({name:"login"}),e.next=23;break;case 20:e.prev=20,e.t0=e["catch"](6),this.$toasted.error("Hmm, something you entered doesn't seem right.");case 23:return e.prev=23,this.pending=!1,e.finish(23);case 26:case"end":return e.stop()}},e,this,[[6,20,23,26]])}));return function(){return e.apply(this,arguments)}}()},validations:{credentials:{firstName:{required:C["required"]},lastName:{required:C["required"]},username:{required:C["required"],minLength:Object(C["minLength"])(3)},email:{required:C["required"],email:C["email"]},password:{required:C["required"],minLength:Object(C["minLength"])(8)},passwordConfirm:{sameAs:Object(C["sameAs"])("password")}}}},R=O,P=(r("3H1+"),Object(c["a"])(R,j,E,!1,null,"42b6e3ce",null)),S=P.exports,L=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"user-action"},[r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-12"},[r("div",{staticClass:"user-block"},[r("h1",{staticClass:"user-block__header"},[e._v("Forgot Password")]),r("div",{staticClass:"user-block__content"},[r("form",{attrs:{autocomplete:"off"},on:{submit:function(e){e.preventDefault()}}},[r("div",{staticClass:"form-group",class:{"form-group--error":e.$v.credentials.email.$error,"form-group--success":!e.$v.credentials.email.$invalid&&e.$v.credentials.email.$dirty}},[r("label",[e._v("Email")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.credentials.email,expression:"credentials.email",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",name:"signup-form-email","aria-describedby":"Email"},domProps:{value:e.credentials.email},on:{input:[function(t){t.target.composing||e.$set(e.credentials,"email",t.target.value.trim())},function(t){e.$v.credentials.email.$touch()}],blur:function(t){e.$forceUpdate()}}}),e.$v.credentials.email.$error?r("div",{staticClass:"form-group__message"},[e._v("Please enter your email.")]):e._e()]),r("button",{staticClass:"btn btn-green btn-lg mt-4 btn-block",attrs:{id:"forgot-submit-button"},on:{click:function(t){e.submit()}}},[e.pending?r("span",[r("i",{staticClass:"fa fa-circle-o-notch fa-spin fa-fw"})]):r("span",[r("i",{staticClass:"fa fa-paper-plane"}),e._v(" Send")])]),r("div",{staticClass:"mt-4 small"},[r("p",[e._v("Not signed up yet? "),r("router-link",{attrs:{to:{name:"signup"}}},[e._v("Signup here.")])],1),r("p",[e._v("Need to login? "),r("router-link",{attrs:{to:{name:"login"}}},[e._v("Login here")])],1)])])])])])])])])},U=[],q={name:"forgot",data:function(){return{credentials:{email:""},pending:!1}},methods:{submit:function(){var e=Object($["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.$v.$invalid){e.next=3;break}return this.$v.$touch(),e.abrupt("return");case 3:return this.pending=!0,t={email:this.credentials.email},e.prev=5,e.next=8,this.$store.dispatch("user/userForgot",t);case 8:this.$toasted.success("Please check your email."),this.credentials.email="",this.$v.$reset(),this.$router.push({name:"home"}),e.next=20;break;case 14:e.prev=14,e.t0=e["catch"](5),this.$toasted.success("Please check your email."),this.credentials.email="",this.$v.$reset(),this.$router.push({name:"home"});case 20:return e.prev=20,this.pending=!1,e.finish(20);case 23:case"end":return e.stop()}},e,this,[[5,14,20,23]])}));return function(){return e.apply(this,arguments)}}()},validations:{credentials:{email:{required:C["required"]}}}},A=q,D=(r("qJUe"),Object(c["a"])(A,L,U,!1,null,"d802fd02",null)),I=D.exports,F=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"user-action"},[r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-12"},[r("div",{staticClass:"user-block"},[r("h1",{staticClass:"user-block__header"},[e._v("Reset Password")]),r("div",{staticClass:"user-block__content"},[r("form",{attrs:{autocomplete:"off"},on:{submit:function(e){e.preventDefault()}}},[r("div",{staticClass:"form-group",class:{"form-group--error":e.$v.credentials.password.$error,"form-group--success":!e.$v.credentials.password.$invalid&&e.$v.credentials.password.$dirty}},[r("label",[e._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.credentials.password,expression:"credentials.password",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"password",name:"reset-form-password","aria-describedby":"Password"},domProps:{value:e.credentials.password},on:{input:[function(t){t.target.composing||e.$set(e.credentials,"password",t.target.value.trim())},function(t){e.$v.credentials.password.$touch()}],blur:function(t){e.$forceUpdate()}}}),!e.$v.credentials.password.$minLength&&e.$v.credentials.password.$error?r("div",{staticClass:"form-group__message"},[e._v("Passwords must be at least 8 characters.")]):e._e(),e.$v.credentials.password.$error?r("div",{staticClass:"form-group__message"},[e._v("Please enter a valid password.")]):e._e()]),r("div",{staticClass:"form-group",class:{"form-group--error":e.$v.credentials.passwordConfirm.$error,"form-group--success":!e.$v.credentials.passwordConfirm.$invalid&&e.$v.credentials.passwordConfirm.$dirty}},[r("label",[e._v("Confirm Password")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.credentials.passwordConfirm,expression:"credentials.passwordConfirm",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"password",name:"reset-form-passwordConfirm","aria-describedby":"Confirm Password"},domProps:{value:e.credentials.passwordConfirm},on:{input:[function(t){t.target.composing||e.$set(e.credentials,"passwordConfirm",t.target.value.trim())},function(t){e.$v.credentials.passwordConfirm.$touch()}],blur:function(t){e.$forceUpdate()}}}),e.$v.credentials.passwordConfirm.$error?r("div",{staticClass:"form-group__message"},[e._v("Entry doesn't match.")]):e._e()]),r("button",{staticClass:"btn btn-green btn-lg mt-4 btn-block",attrs:{id:"reset-submit-button"},on:{click:function(t){e.submit()}}},[e.pending?r("span",[r("i",{staticClass:"fa fa-circle-o-notch fa-spin fa-fw"})]):r("span",[r("i",{staticClass:"fa fa-refresh"}),e._v(" Reset")])]),r("div",{staticClass:"mt-4 small"},[r("p",[e._v("Not signed up yet? "),r("router-link",{attrs:{to:"/user/signup"}},[e._v("Signup here.")])],1),r("p",[r("router-link",{attrs:{to:"/user/login"}},[e._v("Login")])],1)])])])])])])])])},G=[],H={name:"reset",data:function(){return{credentials:{password:"",passwordConfirm:"",passwordResetToken:"",email:""},pending:!1}},methods:{submit:function(){var e=Object($["a"])(regeneratorRuntime.mark(function e(){var t,r,s,a,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.$v.$invalid){e.next=3;break}return this.$v.$touch(),e.abrupt("return");case 3:return this.pending=!0,t=this.credentials,r=t.password,s=t.passwordResetToken,a=t.email,n={password:r,passwordResetToken:s,email:a},e.prev=6,e.next=9,this.$store.dispatch("user/userReset",n);case 9:this.$toasted.success("Successfully reset password. Please login."),this.credentials.password="",this.credentials.passwordConfirm="",this.$v.$reset(),this.$router.push({name:"login"}),e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](6),this.$toasted.error("Your reset link has expired or is incorrect. Please reset your password again.");case 19:return e.prev=19,this.pending=!1,e.finish(19);case 22:case"end":return e.stop()}},e,this,[[6,16,19,22]])}));return function(){return e.apply(this,arguments)}}()},validations:{credentials:{password:{required:C["required"],minLength:Object(C["minLength"])(8)},passwordConfirm:{sameAs:Object(C["sameAs"])("password")}}},mounted:function(){this.credentials.passwordResetToken=this.$route.query.passwordResetToken,this.credentials.email=this.$route.query.email}},B=H,K=(r("Znhf"),Object(c["a"])(B,F,G,!1,null,"49db03ab",null)),M=K.exports,V=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"main-content"},[r("div",{staticClass:"container-fluid"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-3"},[r("sidebar",{attrs:{items:[{name:"Create Note",to:"createNote",type:"link",icon:"fa fa-plus fa-fw"}]}})],1),r("div",{staticClass:"col-md-9"},[!e.notes.length&&e.completedFirstPass?r("div",[e._v("Hmm, you don't have any notes.")]):e._e(),r("div",{staticClass:"note-block"},e._l(e.notes,function(t){return r("div",{key:t.id,staticClass:"row"},[r("div",{staticClass:"col-12"},[r("div",{staticClass:"note-block__note",on:{click:function(r){e.editNote(t)}}},[r("h3",[r("strong",[e._v(e._s(t.title))])]),r("p",[e._v(e._s(t.content)+" "),e._m(0,!0)])])])])})),e.okToLoadMore?r("button",{staticClass:"btn btn-primary",on:{click:function(t){e.loadNotes()}}},[r("i",{staticClass:"fa fa-chevron-down fa-fw"}),e._v("\n                    Load More\n                ")]):e._e()])])])])},J=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"pull-right"},[r("i",{staticClass:"fa fa-long-arrow-right"})])}],Y={name:"account",data:function(){return{completedFirstPass:!1,okToLoadMore:!1,query:{sort:"",order:"desc",page:0,limit:20}}},methods:{loadNotes:function(){var e=Object($["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$store.dispatch("note/getUsersNotes",this.query);case 3:t=e.sent,t.length===this.query.limit?(this.okToLoadMore=!0,this.query.page=this.query.page+1):this.okToLoadMore=!1,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),this.$toasted.error("There was an error connecting to the server.");case 10:return e.prev=10,!1===this.completedFirstPass&&(this.completedFirstPass=!0),e.finish(10);case 13:case"end":return e.stop()}},e,this,[[0,7,10,13]])}));return function(){return e.apply(this,arguments)}}(),editNote:function(e){var t=this.notes.map(function(e){return e.id}).indexOf(e.id);this.$router.push({name:"editNote",query:{id:this.notes[t].id}})}},computed:Object(f["a"])({},Object(v["b"])({user:function(e){return e.user.user},notes:function(e){return e.note.notes}})),created:function(){this.loadNotes()},destroyed:function(){}},z=Y,Q=(r("Uo0Y"),Object(c["a"])(z,V,J,!1,null,"69167618",null)),Z=Q.exports,W=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"main-content"},[r("div",{staticClass:"container-fluid"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-3"},[r("sidebar",{attrs:{items:[{name:"Back",type:"back",icon:"fa fa-long-arrow-left fa-fw"}]}})],1),r("div",{staticClass:"col-md-9"},[r("h1",[e._v("Create Note")]),r("div",{staticClass:"form-group"},[r("label",[e._v("Title")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.note.title,expression:"note.title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.note.title},on:{input:function(t){t.target.composing||e.$set(e.note,"title",t.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",[e._v("Content")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.note.content,expression:"note.content"}],staticClass:"form-control",domProps:{value:e.note.content},on:{input:function(t){t.target.composing||e.$set(e.note,"content",t.target.value)}}})]),r("button",{staticClass:"btn btn-primary mb-3",attrs:{id:"create-note-button"},on:{click:function(t){e.createNote()}}},[r("i",{staticClass:"fa fa-plus fa-fw"}),e._v(" Create")])])])])])},X=[],ee={name:"editNote",data:function(){return{note:{title:"",content:""}}},methods:{createNote:function(){var e=Object($["a"])(regeneratorRuntime.mark(function e(){var t,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.note.title&&this.note.content){e.next=3;break}return this.$toasted.error("Title and Content need to be filled out."),e.abrupt("return");case 3:return e.prev=3,e.next=6,this.$store.dispatch("note/createNote",this.note);case 6:return t=e.sent,r=t.data.id,e.next=10,this.$store.dispatch("note/getNote",r);case 10:return s=e.sent,e.next=13,this.$store.dispatch("note/addNoteToStack",s);case 13:this.$router.push({name:"account"}),this.$toasted.success("Note created."),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](3),this.$toasted.error("There was an error connecting to the server.");case 20:case"end":return e.stop()}},e,this,[[3,17]])}));return function(){return e.apply(this,arguments)}}()},computed:Object(f["a"])({},Object(v["b"])({user:function(e){return e.user.user},notes:function(e){return e.note.notes}})),created:function(){}},te=ee,re=(r("eB6n"),Object(c["a"])(te,W,X,!1,null,"c55b8ce8",null)),se=re.exports,ae=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"main-content"},[r("div",{staticClass:"container-fluid"},[null!==e.note&&0!==Object.keys(this.note).length?r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-3"},[r("sidebar",{attrs:{items:[{name:"Back",type:"back",icon:"fa fa-long-arrow-left fa-fw"},{name:"Delete Note",functionName:"confirmDeleteNote",type:"function",icon:"fa fa-trash fa-fw"}]}})],1),r("div",{staticClass:"col-md-9"},[e.user?r("h3",[e._v(e._s(e.note.title))]):e._e(),e.user?r("p",[e._v(e._s(e.note.content))]):e._e(),r("hr",{staticClass:"mt-4 mb-4"}),r("h1",[e._v("Edit")]),e.note?r("div",[r("div",{staticClass:"form-group"},[r("label",[e._v("Title")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.note.title,expression:"note.title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.note.title},on:{input:function(t){t.target.composing||e.$set(e.note,"title",t.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",[e._v("Content")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.note.content,expression:"note.content"}],staticClass:"form-control",domProps:{value:e.note.content},on:{input:function(t){t.target.composing||e.$set(e.note,"content",t.target.value)}}})]),r("button",{staticClass:"btn btn-primary",on:{click:function(t){e.saveNote()}}},[r("i",{staticClass:"fa fa-save fa-fw"}),e._v(" Save")])]):e._e()])]):e._e(),null!==e.note&&0===Object.keys(this.note).length?r("div",{staticClass:"row"},[e._m(0)]):e._e()])])},ne=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col-md-12"},[r("p",[r("i",{staticClass:"fa fa-frown-o fa-fw"}),e._v(" Hmm, that note couldn't be found.")])])}],ie={name:"editNote",data:function(){return{note:null}},methods:{loadNote:function(){var e=Object($["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$store.dispatch("note/getNote",this.$route.query.id);case 3:t=e.sent,this.note=t,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),this.$toasted.error("There was an error connecting to the server.");case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),saveNote:function(){var e=Object($["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$store.dispatch("note/saveNote",this.note);case 3:return this.$toasted.success("Saved."),e.next=6,this.$store.dispatch("note/editNoteInStack",this.note);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),this.$toasted.error("Your note couldn't be saved. There was an error connecting to the server.");case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),confirmDeleteNote:function(){var e=window.confirm("Are you sure you want to delete this note?");e&&this.deleteNote()},deleteNote:function(){var e=Object($["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$store.dispatch("note/deleteNote",this.note);case 3:return e.next=5,this.$store.dispatch("note/deleteNoteFromStack",this.note);case 5:this.$toasted.success("Deleted."),this.$router.push({name:"account"}),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),this.$toasted.error("There was an error connecting to the server.");case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(){return e.apply(this,arguments)}}()},computed:Object(f["a"])({},Object(v["b"])({user:function(e){return e.user.user},notes:function(e){return e.note.notes}})),created:function(){this.loadNote()},mounted:function(){var e=this;this.$root.$on("confirmDeleteNote",function(){e.confirmDeleteNote()})},beforeDestroy:function(){this.$root.$off("confirmDeleteNote")}},oe=ie,ce=(r("homf"),Object(c["a"])(oe,ae,ne,!1,null,"dcad63e8",null)),ue=ce.exports,le=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"panel"},[r("h1",[e._v("Not Found")]),r("p",[e._v("Hmm, we couldn't quite find what you were looking for.")]),r("router-link",{staticClass:"btn btn-primary",attrs:{to:"/"}},[e._v("Go Home")])],1)},me=[],de={name:"notFound",mounted:function(){}},pe=de,fe=(r("gv/l"),Object(c["a"])(pe,le,me,!1,null,"082b1a26",null)),ve=fe.exports;s["a"].use(m["a"]),s["a"].component("navbar",r("NEaa").default),s["a"].component("footer-main",r("3Vu5").default),s["a"].component("sidebar",r("fn73").default);var he=new m["a"]({mode:"history",routes:[{path:"*",component:ve,name:"notFound",meta:{title:"Not Found"}},{path:"/",component:w,name:"home",meta:{title:"Home"}},{path:"/user/login",component:T,name:"login",meta:{title:"Login"}},{path:"/user/signup",component:S,name:"signup",meta:{title:"Signup"}},{path:"/user/forgot",component:I,name:"forgot",meta:{title:"Forgot"}},{path:"/user/reset",component:M,name:"reset",meta:{title:"Reset"}},{path:"/account",component:Z,name:"account",meta:{title:"Account",requiresAuth:!0}},{path:"/createNote",component:se,name:"createNote",meta:{title:"Create Note",requiresAuth:!0}},{path:"/editNote",component:ue,name:"editNote",meta:{title:"Edit Note",requiresAuth:!0}}],scrollBehavior:function(e,t,r){return r||{x:0,y:0}}});he.beforeEach(function(e,t,r){he.app.$Progress.start(),document.title=e.meta.title;var s=localStorage.getItem("accessToken")?localStorage.getItem("accessToken"):null,a=localStorage.getItem("refreshToken")?localStorage.getItem("refreshToken"):null;s&&he.app.$options.store.dispatch("user/setUserAndTokens",{accessToken:s,refreshToken:a}),e.meta.requiresAuth&&!he.app.$options.store.getters["user/user"]&&r({name:"home"}),r()}),he.afterEach(function(e,t){he.app.$Progress.finish()});var ge=he,be=(r("pIFo"),r("BOF4")),we=r.n(be),_e=r("vDqi"),ke=r.n(_e);function $e(e){ke.a.defaults.headers.common["Authorization"]="Bearer "+e}var Ce,ye=ke.a.create({baseURL:"https://koa-vue-notes-api.innermonkdesign.com/api/v1"}),Ne=ye;function xe(){return Te.apply(this,arguments)}function Te(){return Te=Object($["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return Ce||(Ce=Ke.dispatch("user/refreshUserTokens"),Ce.then(function(){Ce=null}).catch(function(){Ce=null})),e.abrupt("return",Ce);case 2:case"end":return e.stop()}},e,this)})),Te.apply(this,arguments)}function je(){return Ee.apply(this,arguments)}function Ee(){return Ee=Object($["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ke.dispatch("user/userLogout");case 2:return e.next=4,Ke.dispatch("tournament/userLogout");case 4:return e.next=6,Ke.dispatch("tournaments/userLogout");case 6:ge.replace({name:"login"});case 7:case"end":return e.stop()}},e,this)})),Ee.apply(this,arguments)}s["a"].use(v["a"]),Ne.interceptors.response.use(void 0,function(){var e=Object($["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(401!==t.response.status||"TOKEN_EXPIRED"!==t.response.data.message||t.config.__isRetryRequest){e.next=16;break}return e.prev=1,e.next=4,xe();case 4:return r=e.sent,e.next=7,Ke.dispatch("user/setUserAndTokens",{accessToken:r.data.accessToken,refreshToken:r.data.refreshToken});case 7:return t.config.headers["Authorization"]="Bearer "+Ke.getters["user/accessToken"],t.config.__isRetryRequest=!0,e.abrupt("return",Ne(t.config));case 12:return e.prev=12,e.t0=e["catch"](1),je(),e.abrupt("return",Promise.reject(e.t0));case 16:if(401!==t.response.status||"AUTHENTICATION_ERROR"!==t.response.data.message){e.next=19;break}return je(),e.abrupt("return",Promise.reject(t));case 19:return e.abrupt("return",Promise.reject(t));case 20:case"end":return e.stop()}},e,this,[[1,12]])}));return function(t){return e.apply(this,arguments)}}());var Oe="SET_USER",Re="STORE_ACCESS_TOKEN",Pe="STORE_REFRESH_TOKEN",Se="LOGOUT_USER",Le={namespaced:!0,state:{user:null,accessToken:null,refreshToken:null},mutations:{SET_USER:function(e,t){e.user=t},STORE_ACCESS_TOKEN:function(e,t){e.accessToken=t,localStorage.setItem("accessToken",t)},STORE_REFRESH_TOKEN:function(e,t){e.refreshToken=t,localStorage.setItem("refreshToken",t)},LOGOUT_USER:function(e){e.user=null,e.accessToken=null,e.refreshToken=null,localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken")}},getters:{user:function(e){return e.user},accessToken:function(e){return e.accessToken},refreshToken:function(e){return e.refreshToken}},actions:{setUserAndTokens:function(){var e=Object($["a"])(regeneratorRuntime.mark(function e(t,r){var s,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.dispatch,s=t.commit,t.getters,t.rootGetters,e.prev=1,a=we()(r.accessToken),s(Oe,a.data),s(Re,r.accessToken),s(Pe,r.refreshToken),e.next=11;break;case 8:throw e.prev=8,e.t0=e["catch"](1),new Error(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));return function(t,r){return e.apply(this,arguments)}}(),userLogin:function(){var e=Object($["a"])(regeneratorRuntime.mark(function e(t,r){var s,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.dispatch,t.commit,t.getters,t.rootGetters,e.prev=1,e.next=4,Ne.post("user/authenticate",{username:r.username,password:r.password});case 4:return a=e.sent,e.next=7,s("setUserAndTokens",{accessToken:a.data.accessToken,refreshToken:a.data.refreshToken});case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e["catch"](1),new Error(e.t0);case 13:case"end":return e.stop()}},e,this,[[1,10]])}));return function(t,r){return e.apply(this,arguments)}}(),refreshUserTokens:function(){var e=Object($["a"])(regeneratorRuntime.mark(function e(t){var r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.dispatch,t.commit,r=t.getters,s=t.rootGetters,e.prev=1,$e(s["user/accessToken"]),e.next=5,Ne.post("user/refreshAccessToken",{username:r.user.username,refreshToken:r.refreshToken});case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e["catch"](1),new Error(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));return function(t){return e.apply(this,arguments)}}(),userLogout:function(){var e=Object($["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.dispatch,r=t.commit,t.getters,t.rootGetters,e.prev=1,r(Se),e.next=8;break;case 5:throw e.prev=5,e.t0=e["catch"](1),new Error(e.t0);case 8:case"end":return e.stop()}},e,this,[[1,5]])}));return function(t){return e.apply(this,arguments)}}(),userSignup:function(){var e=Object($["a"])(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.dispatch,t.commit,t.getters,t.rootGetters,e.prev=1,e.next=4,Ne.post("user/signup",{firstName:r.firstName,lastName:r.lastName,username:r.username,email:r.email,password:r.password});case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e["catch"](1),new Error(e.t0);case 10:case"end":return e.stop()}},e,this,[[1,7]])}));return function(t,r){return e.apply(this,arguments)}}(),userForgot:function(){var e=Object($["a"])(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.dispatch,t.commit,t.getters,t.rootGetters,e.prev=1,e.next=4,Ne.post("user/forgot",{email:r.email,url:"https://koa-vue-notes-web.innermonkdesign.com//user/reset",type:"web"});case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e["catch"](1),new Error(e.t0);case 10:case"end":return e.stop()}},e,this,[[1,7]])}));return function(t,r){return e.apply(this,arguments)}}(),userReset:function(){var e=Object($["a"])(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.dispatch,t.commit,t.getters,t.rootGetters,e.prev=1,e.next=4,Ne.post("user/resetPassword",{password:r.password,passwordResetToken:r.passwordResetToken,email:r.email});case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e["catch"](1),new Error(e.t0);case 10:case"end":return e.stop()}},e,this,[[1,7]])}));return function(t,r){return e.apply(this,arguments)}}()}},Ue=Le;r("Vd3H");s["a"].use(v["a"]);var qe="ADD_NOTES",Ae="ADD_NOTE_TO_STACK",De="DELETE_NOTE_FROM_STACK",Ie="EDIT_NOTE_IN_STACK",Fe="LOGOUT_USER",Ge={namespaced:!0,state:{notes:[]},mutations:{ADD_NOTES:function(e,t){e.notes=e.notes.concat(t)},ADD_NOTE_TO_STACK:function(e,t){e.notes.unshift(t)},DELETE_NOTE_FROM_STACK:function(e,t){if(e.notes.length){var r=e.notes.map(function(e){return e.id}).indexOf(t.id);e.notes.splice(r,1)}},EDIT_NOTE_IN_STACK:function(e,t){if(e.notes.length){var r=e.notes.map(function(e){return e.id}).indexOf(t.id);s["a"].set(e.notes,r,t)}},LOGOUT_USER:function(e){e.notes=[]}},getters:{notes:function(e){return e.notes}},actions:{getUsersNotes:function(){var e=Object($["a"])(regeneratorRuntime.mark(function e(t,r){var s,a,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.dispatch,s=t.commit,t.getters,a=t.rootGetters,e.prev=1,$e(a["user/accessToken"]),e.next=5,Ne.get("notes",{params:{sort:r.sort,order:r.order,page:r.page,limit:r.limit}});case 5:return n=e.sent,s(qe,n.data),e.abrupt("return",n.data);case 10:throw e.prev=10,e.t0=e["catch"](1),new Error(e.t0);case 13:case"end":return e.stop()}},e,this,[[1,10]])}));return function(t,r){return e.apply(this,arguments)}}(),getNote:function(){var e=Object($["a"])(regeneratorRuntime.mark(function e(t,r){var s,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.dispatch,t.commit,t.getters,s=t.rootGetters,e.prev=1,$e(s["user/accessToken"]),e.next=5,Ne.get("notes/"+r);case 5:return a=e.sent,e.abrupt("return",a.data);case 9:throw e.prev=9,e.t0=e["catch"](1),new Error(e.t0);case 12:case"end":return e.stop()}},e,this,[[1,9]])}));return function(t,r){return e.apply(this,arguments)}}(),createNote:function(){var e=Object($["a"])(regeneratorRuntime.mark(function e(t,r){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.dispatch,t.commit,t.getters,s=t.rootGetters,e.prev=1,$e(s["user/accessToken"]),e.next=5,Ne.post("notes",{title:r.title,content:r.content});case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e["catch"](1),new Error(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));return function(t,r){return e.apply(this,arguments)}}(),saveNote:function(){var e=Object($["a"])(regeneratorRuntime.mark(function e(t,r){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.dispatch,t.commit,t.getters,s=t.rootGetters,e.prev=1,$e(s["user/accessToken"]),e.next=5,Ne.put("notes/"+r.id,{title:r.title,content:r.content});case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e["catch"](1),new Error(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));return function(t,r){return e.apply(this,arguments)}}(),deleteNote:function(){var e=Object($["a"])(regeneratorRuntime.mark(function e(t,r){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.dispatch,t.commit,t.getters,s=t.rootGetters,e.prev=1,$e(s["user/accessToken"]),e.next=5,Ne.delete("notes/"+r.id);case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e["catch"](1),new Error(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));return function(t,r){return e.apply(this,arguments)}}(),userLogout:function(){var e=Object($["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.dispatch,r=t.commit,t.getters,t.rootGetters,e.prev=1,r(Fe),e.next=8;break;case 5:throw e.prev=5,e.t0=e["catch"](1),new Error(e.t0);case 8:case"end":return e.stop()}},e,this,[[1,5]])}));return function(t){return e.apply(this,arguments)}}(),addNoteToStack:function(){var e=Object($["a"])(regeneratorRuntime.mark(function e(t,r){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.dispatch,s=t.commit,t.getters,t.rootGetters,e.prev=1,s(Ae,r),e.next=8;break;case 5:throw e.prev=5,e.t0=e["catch"](1),new Error(e.t0);case 8:case"end":return e.stop()}},e,this,[[1,5]])}));return function(t,r){return e.apply(this,arguments)}}(),deleteNoteFromStack:function(){var e=Object($["a"])(regeneratorRuntime.mark(function e(t,r){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.dispatch,s=t.commit,t.getters,t.rootGetters,e.prev=1,s(De,r),e.next=8;break;case 5:throw e.prev=5,e.t0=e["catch"](1),new Error(e.t0);case 8:case"end":return e.stop()}},e,this,[[1,5]])}));return function(t,r){return e.apply(this,arguments)}}(),editNoteInStack:function(){var e=Object($["a"])(regeneratorRuntime.mark(function e(t,r){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.dispatch,s=t.commit,t.getters,t.rootGetters,e.prev=1,s(Ie,r),e.next=8;break;case 5:throw e.prev=5,e.t0=e["catch"](1),new Error(e.t0);case 8:case"end":return e.stop()}},e,this,[[1,5]])}));return function(t,r){return e.apply(this,arguments)}}()}},He=Ge;s["a"].use(v["a"]);var Be=new v["a"].Store({modules:{user:Ue,note:He}}),Ke=Be,Me=r("Hc5T"),Ve=r.n(Me),Je=r("pl0M"),Ye=r.n(Je),ze=r("JrkG"),Qe=r.n(ze);r("gEk7");s["a"].use(Ve.a),s["a"].use(Ye.a,{theme:"primary",position:"top-center",duration:2300}),s["a"].use(Qe.a,{color:"#ADE027",failedColor:"#F43D41",thickness:"3px",transition:{speed:"0.2s",opacity:"0.6s",termination:300},autoRevert:!0,location:"top",inverse:!1}),ke.a.interceptors.request.use(function(e){return ge.app.$Progress.start(),e},function(e){return ge.app.$Progress.fail(),Promise.reject(e)}),ke.a.interceptors.response.use(function(e){return ge.app.$Progress.finish(),e},function(e){return ge.app.$Progress.fail(),Promise.reject(e)}),s["a"].config.productionTip=!0,new s["a"]({store:Ke,router:ge,render:function(e){return e(l)}}).$mount("#app")},Wr4Q:function(e,t,r){},Y3nf:function(e,t,r){},ZL7j:function(e,t,r){"use strict";var s=r("EDI0"),a=r.n(s);a.a},Znhf:function(e,t,r){"use strict";var s=r("Y3nf"),a=r.n(s);a.a},dBsm:function(e,t,r){},eB6n:function(e,t,r){"use strict";var s=r("dBsm"),a=r.n(s);a.a},fn73:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.items.length>0?r("div",[r("div",{staticClass:"d-sm-block d-md-none mb-2"},[r("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:function(t){e.menuIsVisible=!e.menuIsVisible}}},[e._v("MENU")])]),e.menuIsVisible?r("div",{staticClass:"d-sm-block d-md-none",attrs:{id:"sidebar-items"}},[r("div",{staticClass:"sidebar-items"},[r("div",{staticClass:"sidebar-items__sidebar-item sidebar-items__sidebar-item--header"},[e._v("MENU")]),e._l(e.items,function(t){return r("div",{key:t.name},["link"===t.type?r("router-link",{key:t.name,staticClass:"sidebar-items__sidebar-item",attrs:{to:{name:t.to}}},[r("i",{class:t.icon}),e._v(" "+e._s(t.name))]):e._e(),"back"===t.type?r("a",{key:t.name,staticClass:"sidebar-items__sidebar-item",attrs:{href:"javascript:void(0)"},on:{click:function(t){e.goBack()}}},[r("i",{class:t.icon}),e._v(" Back")]):e._e(),"function"===t.type?r("a",{key:t.name,staticClass:"sidebar-items__sidebar-item",attrs:{href:"javascript:void(0)"},on:{click:function(r){e.$router.app.$emit(t.functionName)}}},[r("i",{class:t.icon}),e._v(" "+e._s(t.name))]):e._e()],1)})],2)]):e._e(),r("div",{staticClass:"d-none d-md-block",attrs:{id:"sidebar-items"}},[r("div",{staticClass:"sidebar-items"},[r("div",{staticClass:"sidebar-items__sidebar-item sidebar-items__sidebar-item--header"},[e._v("MENU")]),e._l(e.items,function(t){return r("div",{key:t.name},["link"===t.type?r("router-link",{key:t.name,staticClass:"sidebar-items__sidebar-item",attrs:{to:{name:t.to}}},[r("i",{class:t.icon}),e._v(" "+e._s(t.name))]):e._e(),"back"===t.type?r("a",{key:t.name,staticClass:"sidebar-items__sidebar-item",attrs:{href:"javascript:void(0)"},on:{click:function(t){e.goBack()}}},[r("i",{class:t.icon}),e._v(" Back")]):e._e(),"function"===t.type?r("a",{key:t.name,staticClass:"sidebar-items__sidebar-item",attrs:{href:"javascript:void(0)"},on:{click:function(r){e.$router.app.$emit(t.functionName)}}},[r("i",{class:t.icon}),e._v(" "+e._s(t.name))]):e._e()],1)})],2)])]):e._e()])},a=[],n={name:"sidebar",props:["items"],data:function(){return{menuIsVisible:!1}},methods:{goBack:function(){this.$router.go(-1)}},computed:{},mounted:function(){}},i=n,o=(r("Q/fh"),r("KHd+")),c=Object(o["a"])(i,s,a,!1,null,"d2f8342e",null);t["default"]=c.exports},gEk7:function(e,t,r){},"gv/l":function(e,t,r){"use strict";var s=r("1R2C"),a=r.n(s);a.a},homf:function(e,t,r){"use strict";var s=r("Wr4Q"),a=r.n(s);a.a},k3Mb:function(e,t,r){},pLfx:function(e,t,r){},qJUe:function(e,t,r){"use strict";var s=r("k3Mb"),a=r.n(s);a.a}});
//# sourceMappingURL=app.5fd93e2c.js.map